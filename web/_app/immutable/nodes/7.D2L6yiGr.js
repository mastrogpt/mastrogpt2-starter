import{c as C,a as i,t as p}from"../chunks/CdDPiiAq.js";import{f as P,p as de,d as y,a as ce,g as t,b as u,Y as k,c as n,s as l,r as o,t as B,n as ve}from"../chunks/D-pOCGrB.js";import{s as E}from"../chunks/Bk0HBIAK.js";import{l as G,s as H,p as f,i as N}from"../chunks/BQO_n1VV.js";import{e as pe,s as me,a as ue,b as fe}from"../chunks/C7Sj3pvE.js";import{g as _e}from"../chunks/Dx5WM6eX.js";import{B as ge}from"../chunks/DUwxQESZ.js";import{I as D,t as xe}from"../chunks/BVZ3fOE9.js";import{I as J,c as K,d as he,e as $e,u as be}from"../chunks/BOuXRh5W.js";import"../chunks/DSqHHXr2.js";function we(_,d){const g=G(d,["children","$$slots","$$events","$$legacy"]);J(_,H({name:"log-in"},()=>g,{iconNode:[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]],children:(c,I)=>{var v=C(),s=P(v);K(s,d,"default",{},null),i(c,v)},$$slots:{default:!0}}))}function F(_,d){const g=G(d,["children","$$slots","$$events","$$legacy"]);J(_,H({name:"triangle-alert"},()=>g,{iconNode:[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]],children:(c,I)=>{var v=C(),s=P(v);K(s,d,"default",{},null),i(c,v)},$$slots:{default:!0}}))}var ye=p('<div class="mt-4 text-center font-bold uppercase tracking-wider text-zinc-900 sm:text-lg"> </div>'),ke=p('<div class="mt-4 text-center font-light tracking-wide text-zinc-600">Please login with your OpenServerless credentials.</div>'),Ne=p('<div class="flex items-center gap-1 text-sm text-red-500"><!> </div>'),Pe=p('<div class="flex items-center gap-1 text-sm text-red-500"><!> </div>'),ze=p('<div class="inline-flex items-center gap-1 h-full"><span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.2s]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.4s]"></span></div>'),Ie=p('<span><!></span> <span class="tracking-wide font-bold uppercase">Log In</span>',1),Le=p('<div class="flex h-screen w-full items-center justify-center"><div class="flex w-full max-w-md flex-col rounded-md bg-white px-4 py-8 shadow-lg sm:px-6 md:px-8"><div class="mb-6 flex flex-col items-center justify-center"><div class="font-arista text-surface-500 text-center text-4xl md:text-5xl text-sidebar">Nuvolaris</div> <!></div> <form class="grid grid-cols-1 space-y-3"><!> <div class="space-y-1"><!> <!></div> <div class="space-y-1"><!></div> <!></form></div></div>');function Te(_,d){de(d,!0);const[g,z]=me(),c=()=>ue(he,"$customNamespace",g);let I="",v="",s=y(f(I)),h=y(f(v)),$=y(!1),L=k(()=>t(s).length>0&&t(s).length<3?"Username must be at least 3 characters":""),O=k(()=>t(s).length>=3&&t(h).length>=1),b=y("");async function Q(){if(u(b,""),t(O)){u($,!0);let e=await $e(t(s),t(h));e.authenticated?(fe(be,f({username:t(s),isAuthenticated:!0,namespace:c(),s3_key:e.s3_key,token:e.token||""})),_e("/")):(u(b,f(e.message)),u($,!1),xe.error("Cannot login "+(e.message?e.message:"")))}}var U=Le(),S=n(U),M=n(S),R=l(n(M),2);{var W=e=>{var a=ye(),r=n(a,!0);o(a),B(()=>E(r,c())),i(e,a)},X=e=>{var a=ke();i(e,a)};N(R,e=>{c()?e(W):e(X,!1)})}o(M);var j=l(M,2),T=n(j);{var Z=e=>{var a=Ne(),r=n(a);F(r,{});var x=l(r);o(a),B(()=>E(x,` ${t(b)??""}`)),i(e,a)};N(T,e=>{t(b)&&e(Z)})}var q=l(T,2),V=n(q),ee=k(()=>t(L)?"border-red-500":"");D(V,{title:"User",type:"text",placeholder:"Username",required:!0,autocomplete:"username",get class(){return t(ee)},get value(){return t(s)},set value(e){u(s,f(e))}});var te=l(V,2);{var ae=e=>{var a=Pe(),r=n(a);F(r,{size:16});var x=l(r);o(a),B(()=>E(x,` ${t(L)??""}`)),i(e,a)};N(te,e=>{t(L)&&e(ae)})}o(q);var A=l(q,2),se=n(A);D(se,{title:"Password",type:"password",placeholder:"Password",required:!0,autocomplete:"new-password",get value(){return t(h)},set value(e){u(h,f(e))}}),o(A);var re=l(A,2),ne=k(()=>!t(O)||t($));ge(re,{type:"submit",size:"lg",class:"bg-sidebar/80",get disabled(){return t(ne)},children:(e,a)=>{var r=C(),x=P(r);{var oe=m=>{var w=ze();i(m,w)},ie=m=>{var w=Ie(),Y=P(w),le=n(Y);we(le,{}),o(Y),ve(2),i(m,w)};N(x,m=>{t($)?m(oe):m(ie,!1)})}i(e,r)},$$slots:{default:!0}}),o(j),o(S),o(U),pe("submit",j,Q),i(_,U),ce(),z()}export{Te as component};
