var ts=Object.defineProperty;var fn=o=>{throw TypeError(o)};var rs=(o,e,t)=>e in o?ts(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var I=(o,e,t)=>rs(o,typeof e!="symbol"?e+"":e,t),Dr=(o,e,t)=>e.has(o)||fn("Cannot "+t);var v=(o,e,t)=>(Dr(o,e,"read from private field"),t?t.call(o):e.get(o)),A=(o,e,t)=>e.has(o)?fn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),X=(o,e,t,r)=>(Dr(o,e,"write to private field"),r?r.call(o,t):e.set(o,t),t),Or=(o,e,t)=>(Dr(o,e,"access private method"),t);import{c as j,a as p,t as P,b as xe,n as ns}from"./CdDPiiAq.js";import{Y as O,g as l,V as ss,B as is,p as ne,f as q,a as se,c as S,m as Xe,r as y,t as W,s as B,u as It,b as R,d as ce,n as pe,aV as as}from"./D-pOCGrB.js";import{a as T,i as N,r as be,p as ae,s as je,l as Gr,b as qt}from"./BQO_n1VV.js";import{A as Ur,a as Vr,b as Lr,c as Mr,d as U,H as os,E as ls,i as cs,u as Ye,C as Rr,e as et,m as We,w as gn,f as us,S as An,g as Pn,h as zn,j as Kr,k as In,l as qn,n as ds,o as hs,p as fs,q as gs,s as Br,X as pn,r as ps}from"./BErFdL9F.js";import{f as Me,y as vs,r as En,g as Ze,I as Zr,c as Hr,z as $r,h as Qt,b as vn,a as Tr,p as ms,q as Dn,d as On,u as Et,A as Wr,j as Dt,k as Ot,s as mn,B as bs}from"./BOuXRh5W.js";import{u as ks,s as Cr,a as St,v as xs,m as Ln,b as Mn,e as tr}from"./C7Sj3pvE.js";import{i as Jt}from"./DSqHHXr2.js";import{s as fe}from"./Bk0HBIAK.js";import{c as Ee}from"./lawJfYCt.js";import{s as we}from"./C1KEPHhz.js";import"./lk9tjPTR.js";import{h as ws}from"./CTktK6Lu.js";import{g as Pe,w as Qr}from"./DYinvJOT.js";import{b as ys,B as Ne}from"./DUwxQESZ.js";import{I as _s,t as Ss}from"./BVZ3fOE9.js";import{c as Rs,o as Ts}from"./DRGPvr98.js";import{s as Cs,C as As}from"./DTqQhSqv.js";import{U as Ps,M as zs,v as Bn,L as Is}from"./DRxmCpUh.js";function qs(o){return window.getComputedStyle(o).getPropertyValue("direction")}function Es(o="ltr",e="horizontal"){return{horizontal:o==="rtl"?Ur:Vr,vertical:Lr}[e]}function Ds(o="ltr",e="horizontal"){return{horizontal:o==="rtl"?Vr:Ur,vertical:Mr}[e]}function Os(o="ltr",e="horizontal"){return["ltr","rtl"].includes(o)||(o="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Es(o,e),prevKey:Ds(o,e)}}function Ls(o){const e=o.currentTabStopId?o.currentTabStopId:U(null);function t(){if(!cs)return[];const n=document.getElementById(o.rootNodeId.current);return n?o.candidateSelector?Array.from(n.querySelectorAll(o.candidateSelector)):Array.from(n.querySelectorAll(`[${o.candidateAttr}]:not([data-disabled])`)):[]}function r(){var a;const n=t();n.length&&((a=n[0])==null||a.focus())}function s(n,a,d=!1){var D;const c=document.getElementById(o.rootNodeId.current);if(!c||!n)return;const u=t();if(!u.length)return;const g=u.indexOf(n),f=qs(c),{nextKey:h,prevKey:m}=Os(f,o.orientation.current),x=o.loop.current,C={[h]:g+1,[m]:g-1,[os]:0,[ls]:u.length-1};if(d){const z=h===Lr?Vr:Lr,Q=m===Mr?Ur:Mr;C[z]=g+1,C[Q]=g-1}let H=C[a.key];if(H===void 0)return;a.preventDefault(),H<0&&x?H=u.length-1:H===u.length&&x&&(H=0);const L=u[H];if(L)return L.focus(),e.current=L.id,(D=o.onCandidateFocus)==null||D.call(o,L),L}function i(n){const a=t(),d=e.current!==null;return n&&!d&&a[0]===n?(e.current=n.id,0):(n==null?void 0:n.id)===e.current?0:-1}return{setCurrentTabStopId(n){e.current=n},getTabIndex:i,handleKeydown:s,focusFirstCandidate:r,currentTabStopId:e}}const Ms="data-avatar-root",Bs="data-avatar-image",Fs="data-avatar-fallback";var ht,Lt,ir;class Ns{constructor(e){A(this,ht);A(this,Lt);I(this,"delayMs");I(this,"loadingStatus");A(this,ir,O(()=>({id:v(this,ht).current,[Ms]:"","data-status":this.loadingStatus.current})));this.delayMs=e.delayMs,this.loadingStatus=e.loadingStatus,X(this,Lt,e.ref),X(this,ht,e.id),this.loadImage=this.loadImage.bind(this),Ye({id:v(this,ht),ref:v(this,Lt)})}loadImage(e,t,r){let s;const i=new Image;return i.src=e,t!==void 0&&(i.crossOrigin=t),r&&(i.referrerPolicy=r),this.loadingStatus.current="loading",i.onload=()=>{s=window.setTimeout(()=>{this.loadingStatus.current="loaded"},this.delayMs.current)},i.onerror=()=>{this.loadingStatus.current="error"},()=>{window.clearTimeout(s)}}get props(){return l(v(this,ir))}}ht=new WeakMap,Lt=new WeakMap,ir=new WeakMap;var ft,Mt,st,gt,it,Je,ar;class js{constructor(e,t){A(this,ft);A(this,Mt);A(this,st);A(this,gt);A(this,it);A(this,Je);A(this,ar,O(()=>({id:v(this,ft).current,style:{display:v(this,Je).loadingStatus.current==="loaded"?"block":"none"},"data-status":v(this,Je).loadingStatus.current,[Bs]:"",src:v(this,it).current,crossorigin:v(this,st).current,referrerpolicy:v(this,gt).current})));X(this,Je,t),X(this,it,e.src),X(this,ft,e.id),X(this,Mt,e.ref),X(this,st,e.crossOrigin),X(this,gt,e.referrerPolicy),Ye({id:v(this,ft),ref:v(this,Mt)}),ss(()=>{if(!v(this,it).current){v(this,Je).loadingStatus.current="error";return}v(this,st).current,is(()=>v(this,Je).loadImage(v(this,it).current??"",v(this,st).current,v(this,gt).current))})}get props(){return l(v(this,ar))}}ft=new WeakMap,Mt=new WeakMap,st=new WeakMap,gt=new WeakMap,it=new WeakMap,Je=new WeakMap,ar=new WeakMap;var Bt,Ft,pt,or;class Gs{constructor(e,t){A(this,Bt);A(this,Ft);A(this,pt);A(this,or,O(()=>({style:{display:v(this,pt).loadingStatus.current==="loaded"?"none":void 0},"data-status":v(this,pt).loadingStatus.current,[Fs]:""})));X(this,pt,t),X(this,Bt,e.id),X(this,Ft,e.ref),Ye({id:v(this,Bt),ref:v(this,Ft)})}get props(){return l(v(this,or))}}Bt=new WeakMap,Ft=new WeakMap,pt=new WeakMap,or=new WeakMap;const Jr=new Rr("Avatar.Root");function Us(o){return Jr.set(new Ns(o))}function Vs(o){return new js(o,Jr.get())}function Ks(o){return new Gs(o,Jr.get())}var Zs=P("<div><!></div>");function Hs(o,e){ne(e,!0);let t=T(e,"delayMs",3,0),r=T(e,"loadingStatus",15,"loading"),s=T(e,"id",19,et),i=T(e,"ref",15,null),n=be(e,["$$slots","$$events","$$legacy","delayMs","loadingStatus","onLoadingStatusChange","child","children","id","ref"]);const a=Us({delayMs:U.with(()=>t()),loadingStatus:U.with(()=>r(),h=>{var m;r()!==h&&(r(h),(m=e.onLoadingStatusChange)==null||m.call(e,h))}),id:U.with(()=>s()),ref:U.with(()=>i(),h=>i(h))}),d=O(()=>We(n,a.props));var c=j(),u=q(c);{var g=h=>{var m=j(),x=q(m);we(x,()=>e.child,()=>({props:l(d)})),p(h,m)},f=h=>{var m=Zs();let x;var C=S(m);we(C,()=>e.children??Xe),y(m),W(()=>x=Me(m,x,{...l(d)})),p(h,m)};N(u,h=>{e.child?h(g):h(f,!1)})}p(o,c),se()}var $s=P("<img>");function Ws(o,e){ne(e,!0);let t=T(e,"id",19,et),r=T(e,"ref",15,null),s=T(e,"crossorigin",3,void 0),i=T(e,"referrerpolicy",3,void 0),n=be(e,["$$slots","$$events","$$legacy","src","child","id","ref","crossorigin","referrerpolicy"]);const a=Vs({src:U.with(()=>e.src),id:U.with(()=>t()),ref:U.with(()=>r(),h=>r(h)),crossOrigin:U.with(()=>s()),referrerPolicy:U.with(()=>i())}),d=O(()=>We(n,a.props));var c=j(),u=q(c);{var g=h=>{var m=j(),x=q(m);we(x,()=>e.child,()=>({props:l(d)})),p(h,m)},f=h=>{var m=$s();let x;W(()=>x=Me(m,x,{...l(d),src:e.src})),vs(m),ks(m),p(h,m)};N(u,h=>{e.child?h(g):h(f,!1)})}p(o,c),se()}var Qs=P("<span><!></span>");function Js(o,e){ne(e,!0);let t=T(e,"id",19,et),r=T(e,"ref",15,null),s=be(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const i=Ks({id:U.with(()=>t()),ref:U.with(()=>r(),g=>r(g))}),n=O(()=>We(s,i.props));var a=j(),d=q(a);{var c=g=>{var f=j(),h=q(f);we(h,()=>e.child,()=>({props:l(n)})),p(g,f)},u=g=>{var f=Qs();let h;var m=S(f);we(m,()=>e.children??Xe),y(f),W(()=>h=Me(f,h,{...l(n)})),p(g,f)};N(d,g=>{e.child?g(c):g(u,!1)})}p(o,a),se()}const Xs="data-checkbox-root";var vt,Nt,jt,at,Gt,Ut,lr,cr,ur,Vt,Fr,dr,hr;class Ys{constructor(e,t=null){A(this,Vt);A(this,vt);A(this,Nt);A(this,jt);I(this,"checked");A(this,at);A(this,Gt);A(this,Ut);I(this,"value");I(this,"indeterminate");I(this,"group",null);A(this,lr,O(()=>this.group&&this.group.name.current?this.group.name.current:v(this,Ut).current));A(this,cr,O(()=>this.group&&this.group.required.current?!0:v(this,Gt).current));A(this,ur,O(()=>this.group&&this.group.disabled.current?!0:v(this,at).current));A(this,dr,O(()=>({checked:this.checked.current,indeterminate:this.indeterminate.current})));A(this,hr,O(()=>({id:v(this,vt).current,role:"checkbox",type:v(this,jt).current,disabled:this.trueDisabled,"aria-checked":Pn(this.checked.current,this.indeterminate.current),"aria-required":zn(this.trueRequired),"data-disabled":Kr(this.trueDisabled),"data-state":ti(this.checked.current,this.indeterminate.current),[Xs]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.checked=e.checked,X(this,at,e.disabled),X(this,Gt,e.required),X(this,Ut,e.name),this.value=e.value,X(this,Nt,e.ref),X(this,vt,e.id),this.indeterminate=e.indeterminate,X(this,jt,e.type),this.group=t,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),Ye({id:v(this,vt),ref:v(this,Nt)}),gn([()=>{var r;return Cs((r=this.group)==null?void 0:r.value.current)},()=>this.value.current],([r,s])=>{!r||!s||(this.checked.current=r.includes(s))}),gn(()=>this.checked.current,r=>{var s,i;this.group&&(r?(s=this.group)==null||s.addValue(this.value.current):(i=this.group)==null||i.removeValue(this.value.current))})}get trueName(){return l(v(this,lr))}get trueRequired(){return l(v(this,cr))}get trueDisabled(){return l(v(this,ur))}onkeydown(e){v(this,at).current||(e.key===us&&e.preventDefault(),e.key===An&&(e.preventDefault(),Or(this,Vt,Fr).call(this)))}onclick(e){v(this,at).current||Or(this,Vt,Fr).call(this)}get snippetProps(){return l(v(this,dr))}get props(){return l(v(this,hr))}}vt=new WeakMap,Nt=new WeakMap,jt=new WeakMap,at=new WeakMap,Gt=new WeakMap,Ut=new WeakMap,lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,Vt=new WeakSet,Fr=function(){this.indeterminate.current?(this.indeterminate.current=!1,this.checked.current=!0):this.checked.current=!this.checked.current},dr=new WeakMap,hr=new WeakMap;var fr,gr,pr;class ei{constructor(e){I(this,"root");A(this,fr,O(()=>this.root.group?!!(this.root.value.current!==void 0&&this.root.group.value.current.includes(this.root.value.current)):this.root.checked.current));A(this,gr,O(()=>!!this.root.trueName));A(this,pr,O(()=>({type:"checkbox",checked:this.root.checked.current===!0,disabled:this.root.trueDisabled,required:this.root.trueRequired,name:this.root.trueName,value:this.root.value.current,"aria-hidden":"true",style:In(qn)})));this.root=e}get trueChecked(){return l(v(this,fr))}get shouldRender(){return l(v(this,gr))}get props(){return l(v(this,pr))}}fr=new WeakMap,gr=new WeakMap,pr=new WeakMap;function ti(o,e){return e?"indeterminate":o?"checked":"unchecked"}const ri=new Rr("Checkbox.Group"),Fn=new Rr("Checkbox.Root");function ni(o){return Fn.set(new Ys(o,ri.getOr(null)))}function si(){return new ei(Fn.get())}var ii=P("<span><!></span>");function ai(o,e){ne(e,!0);let t=be(e,["$$slots","$$events","$$legacy","children","child"]);const r={position:"absolute",border:0,width:"1px",display:"inline-block",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",wordWrap:"normal"},s=O(()=>We(t,{style:r}));var i=j(),n=q(i);{var a=c=>{var u=j(),g=q(u);we(g,()=>e.child,()=>({props:l(s)})),p(c,u)},d=c=>{var u=ii();let g;var f=S(u);we(f,()=>e.children??Xe),y(u),W(()=>g=Me(u,g,{...l(s)})),p(c,u)};N(n,c=>{e.child?c(a):c(d,!1)})}p(o,i),se()}var oi=P("<input>");function li(o,e){ne(e,!1);const t=si();Jt();var r=j(),s=q(r);{var i=n=>{ai(n,{"aria-hidden":"true",children:(a,d)=>{var c=oi();En(c);let u;W(()=>u=Me(c,u,{...t.props,type:"checkbox",style:"display: none !important;"})),p(a,c)},$$slots:{default:!0}})};N(s,n=>{t.shouldRender&&n(i)})}p(o,r),se()}var ci=P("<button><!></button>"),ui=P("<!> <!>",1);function di(o,e){ne(e,!0);let t=T(e,"checked",15,!1),r=T(e,"ref",15,null),s=T(e,"disabled",3,!1),i=T(e,"required",3,!1),n=T(e,"name",3,void 0),a=T(e,"value",3,"on"),d=T(e,"id",19,et),c=T(e,"indeterminate",15,!1),u=T(e,"type",3,"button"),g=be(e,["$$slots","$$events","$$legacy","checked","ref","onCheckedChange","children","disabled","required","name","value","id","indeterminate","onIndeterminateChange","child","type"]);const f=ni({checked:U.with(()=>t(),D=>{var z;t(D),(z=e.onCheckedChange)==null||z.call(e,D)}),disabled:U.with(()=>s()??!1),required:U.with(()=>i()),name:U.with(()=>n()),value:U.with(()=>a()),id:U.with(()=>d()),ref:U.with(()=>r(),D=>r(D)),indeterminate:U.with(()=>c(),D=>{var z;c(D),(z=e.onIndeterminateChange)==null||z.call(e,D)}),type:U.with(()=>u())}),h=O(()=>We({...g},f.props));var m=ui(),x=q(m);{var C=D=>{var z=j(),Q=q(z);we(Q,()=>e.child,()=>({props:l(h),...f.snippetProps})),p(D,z)},H=D=>{var z=ci();let Q;var ze=S(z);we(ze,()=>e.children??Xe,()=>f.snippetProps),y(z),W(()=>Q=Me(z,Q,{...l(h)})),p(D,z)};N(x,D=>{e.child?D(C):D(H,!1)})}var L=B(x,2);li(L,{}),p(o,m),se()}const hi="data-separator-root";var mt,Kt,bt,kt,vr;class fi{constructor(e){A(this,mt);A(this,Kt);A(this,bt);A(this,kt);A(this,vr,O(()=>({id:v(this,mt).current,role:v(this,kt).current?"none":"separator","aria-orientation":ds(v(this,bt).current),"aria-hidden":hs(v(this,kt).current),"data-orientation":fs(v(this,bt).current),[hi]:""})));X(this,bt,e.orientation),X(this,kt,e.decorative),X(this,mt,e.id),X(this,Kt,e.ref),Ye({id:v(this,mt),ref:v(this,Kt)})}get props(){return l(v(this,vr))}}mt=new WeakMap,Kt=new WeakMap,bt=new WeakMap,kt=new WeakMap,vr=new WeakMap;function gi(o){return new fi(o)}var pi=P("<div><!></div>");function vi(o,e){ne(e,!0);let t=T(e,"id",19,et),r=T(e,"ref",15,null),s=T(e,"decorative",3,!1),i=T(e,"orientation",3,"horizontal"),n=be(e,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const a=gi({ref:U.with(()=>r(),h=>r(h)),id:U.with(()=>t()),decorative:U.with(()=>s()),orientation:U.with(()=>i())}),d=O(()=>We(n,a.props));var c=j(),u=q(c);{var g=h=>{var m=j(),x=q(m);we(x,()=>e.child,()=>({props:l(d)})),p(h,m)},f=h=>{var m=pi();let x;var C=S(m);we(C,()=>e.children??Xe),y(m),W(()=>x=Me(m,x,{...l(d)})),p(h,m)};N(u,h=>{e.child?h(g):h(f,!1)})}p(o,c),se()}const mi="data-label-root";var Zt,Ht,mr;class bi{constructor(e){A(this,Zt);A(this,Ht);A(this,mr,O(()=>({[mi]:"",onmousedown:this.onmousedown})));X(this,Zt,e.id),X(this,Ht,e.ref),this.onmousedown=this.onmousedown.bind(this),Ye({id:v(this,Zt),ref:v(this,Ht)})}onmousedown(e){e.detail>1&&e.preventDefault()}get props(){return l(v(this,mr))}}Zt=new WeakMap,Ht=new WeakMap,mr=new WeakMap;function ki(o){return new bi(o)}var xi=P("<label><!></label>");function wi(o,e){ne(e,!0);let t=T(e,"id",19,et),r=T(e,"ref",15,null),s=be(e,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const i=ki({id:U.with(()=>t()),ref:U.with(()=>r(),g=>r(g))}),n=O(()=>We(s,i.props,{for:e.for}));var a=j(),d=q(a);{var c=g=>{var f=j(),h=q(f);we(h,()=>e.child,()=>({props:l(n)})),p(g,f)},u=g=>{var f=xi();let h;var m=S(f);we(m,()=>e.children??Xe),y(f),W(()=>h=Me(f,h,{...l(n),for:e.for})),p(g,f)};N(d,g=>{e.child?g(c):g(u,!1)})}p(o,a),se()}const yi="data-radio-group-root",Nn="data-radio-group-item";var ot,$t,br,kr;class _i{constructor(e){A(this,ot);A(this,$t);I(this,"disabled");I(this,"required");I(this,"loop");I(this,"orientation");I(this,"name");I(this,"value");I(this,"rovingFocusGroup");A(this,br,O(()=>this.value.current!==""));A(this,kr,O(()=>({id:v(this,ot).current,role:"radiogroup","aria-required":zn(this.required.current),"data-disabled":Kr(this.disabled.current),"data-orientation":this.orientation.current,[yi]:""})));X(this,ot,e.id),this.disabled=e.disabled,this.required=e.required,this.loop=e.loop,this.orientation=e.orientation,this.name=e.name,this.value=e.value,X(this,$t,e.ref),this.rovingFocusGroup=Ls({rootNodeId:v(this,ot),candidateAttr:Nn,loop:this.loop,orientation:this.orientation}),Ye({id:v(this,ot),ref:v(this,$t)})}get hasValue(){return l(v(this,br))}isChecked(e){return this.value.current===e}setValue(e){this.value.current=e}get props(){return l(v(this,kr))}}ot=new WeakMap,$t=new WeakMap,br=new WeakMap,kr=new WeakMap;var xt,lt,Ae,wt,Ke,xr,yt,_t,Wt,wr,yr;class Si{constructor(e,t){A(this,xt);A(this,lt);A(this,Ae);A(this,wt);A(this,Ke);A(this,xr,O(()=>v(this,Ae).value.current===v(this,Ke).current));A(this,yt,O(()=>v(this,wt).current||v(this,Ae).disabled.current));A(this,_t,O(()=>v(this,Ae).isChecked(v(this,Ke).current)));A(this,Wt,ce(0));A(this,wr,O(()=>({checked:l(v(this,_t))})));A(this,yr,O(()=>({id:v(this,xt).current,disabled:l(v(this,yt))?!0:void 0,"data-value":v(this,Ke).current,"data-orientation":v(this,Ae).orientation.current,"data-disabled":Kr(l(v(this,yt))),"data-state":l(v(this,_t))?"checked":"unchecked","aria-checked":Pn(l(v(this,_t)),!1),[Nn]:"",type:"button",role:"radio",tabindex:l(v(this,Wt)),onkeydown:this.onkeydown,onfocus:this.onfocus,onclick:this.onclick})));X(this,wt,e.disabled),X(this,Ke,e.value),X(this,Ae,t),X(this,xt,e.id),X(this,lt,e.ref),Ye({id:v(this,xt),ref:v(this,lt)}),It(()=>{R(v(this,Wt),ae(v(this,Ae).rovingFocusGroup.getTabIndex(v(this,lt).current)))}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this),this.onfocus=this.onfocus.bind(this)}get checked(){return l(v(this,xr))}onclick(e){v(this,wt).current||v(this,Ae).setValue(v(this,Ke).current)}onfocus(e){v(this,Ae).hasValue&&v(this,Ae).setValue(v(this,Ke).current)}onkeydown(e){if(!l(v(this,yt))){if(e.key===An){e.preventDefault(),v(this,Ae).setValue(v(this,Ke).current);return}v(this,Ae).rovingFocusGroup.handleKeydown(v(this,lt).current,e,!0)}}get snippetProps(){return l(v(this,wr))}get props(){return l(v(this,yr))}}xt=new WeakMap,lt=new WeakMap,Ae=new WeakMap,wt=new WeakMap,Ke=new WeakMap,xr=new WeakMap,yt=new WeakMap,_t=new WeakMap,Wt=new WeakMap,wr=new WeakMap,yr=new WeakMap;var $e,_r,Sr;class Ri{constructor(e){A(this,$e);A(this,_r,O(()=>v(this,$e).name.current!==void 0));A(this,Sr,O(()=>({name:v(this,$e).name.current,value:v(this,$e).value.current,required:v(this,$e).required.current,disabled:v(this,$e).disabled.current,"aria-hidden":"true",hidden:!0,style:In(qn),tabIndex:-1})));X(this,$e,e)}get shouldRender(){return l(v(this,_r))}get props(){return l(v(this,Sr))}}$e=new WeakMap,_r=new WeakMap,Sr=new WeakMap;const Xr=new Rr("RadioGroup.Root");function Ti(o){return Xr.set(new _i(o))}function Ci(o){return new Si(o,Xr.get())}function Ai(){return new Ri(Xr.get())}var Pi=P("<input>");function zi(o,e){ne(e,!1);const t=Ai();Jt();var r=j(),s=q(r);{var i=n=>{var a=Pi();En(a);let d;W(()=>d=Me(a,d,{...t.props})),p(n,a)};N(s,n=>{t.shouldRender&&n(i)})}p(o,r),se()}var Ii=P("<div><!></div>"),qi=P("<!> <!>",1);function Ei(o,e){ne(e,!0);let t=T(e,"disabled",3,!1),r=T(e,"value",15,""),s=T(e,"ref",15,null),i=T(e,"orientation",3,"vertical"),n=T(e,"loop",3,!0),a=T(e,"name",3,void 0),d=T(e,"required",3,!1),c=T(e,"id",19,et),u=T(e,"onValueChange",3,gs),g=be(e,["$$slots","$$events","$$legacy","disabled","children","child","value","ref","orientation","loop","name","required","id","onValueChange"]);const f=Ti({orientation:U.with(()=>i()),disabled:U.with(()=>t()),loop:U.with(()=>n()),name:U.with(()=>a()),required:U.with(()=>d()),id:U.with(()=>c()),value:U.with(()=>r(),D=>{var z;D!==r()&&(r(D),(z=u())==null||z(D))}),ref:U.with(()=>s(),D=>s(D))}),h=O(()=>We(g,f.props));var m=qi(),x=q(m);{var C=D=>{var z=j(),Q=q(z);we(Q,()=>e.child,()=>({props:l(h)})),p(D,z)},H=D=>{var z=Ii();let Q;var ze=S(z);we(ze,()=>e.children??Xe),y(z),W(()=>Q=Me(z,Q,{...l(h)})),p(D,z)};N(x,D=>{e.child?D(C):D(H,!1)})}var L=B(x,2);zi(L,{}),p(o,m),se()}var Di=P("<button><!></button>");function Oi(o,e){ne(e,!0);let t=T(e,"id",19,et),r=T(e,"disabled",3,!1),s=T(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","id","children","child","value","disabled","ref"]);const n=Ci({value:U.with(()=>e.value),disabled:U.with(()=>r()??!1),id:U.with(()=>t()),ref:U.with(()=>s(),f=>s(f))}),a=O(()=>We(i,n.props));var d=j(),c=q(d);{var u=f=>{var h=j(),m=q(h);we(m,()=>e.child,()=>({props:l(a),...n.snippetProps})),p(f,h)},g=f=>{var h=Di();let m;var x=S(h);we(x,()=>e.children??Xe,()=>n.snippetProps),y(h),W(()=>m=Me(h,m,{...l(a)})),p(f,h)};N(c,f=>{e.child?f(u):f(g,!1)})}p(o,d),se()}function Li(o,e){ne(e,!0);let t=T(e,"ref",15,null),r=T(e,"orientation",3,"horizontal"),s=be(e,["$$slots","$$events","$$legacy","ref","class","orientation"]);var i=j(),n=q(i),a=O(()=>Ze("bg-border shrink-0",r()==="horizontal"?"h-[1px] w-full":"min-h-full w-[1px]",e.class));Ee(n,()=>vi,(d,c)=>{c(d,je({get class(){return l(a)},get orientation(){return r()}},()=>s,{get ref(){return t()},set ref(u){t(u)}}))}),p(o,i),se()}function Mi(o,e){const t=Gr(e,["children","$$slots","$$events","$$legacy"]);Zr(o,je({name:"circle-x"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]],children:(s,i)=>{var n=j(),a=q(n);Hr(a,e,"default",{},null),p(s,n)},$$slots:{default:!0}}))}function Bi(o,e){const t=Gr(e,["children","$$slots","$$events","$$legacy"]);Zr(o,je({name:"circle"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}]],children:(s,i)=>{var n=j(),a=q(n);Hr(a,e,"default",{},null),p(s,n)},$$slots:{default:!0}}))}function Fi(o,e){const t=Gr(e,["children","$$slots","$$events","$$legacy"]);Zr(o,je({name:"minus"},()=>t,{iconNode:[["path",{d:"M5 12h14"}]],children:(s,i)=>{var n=j(),a=q(n);Hr(a,e,"default",{},null),p(s,n)},$$slots:{default:!0}}))}function Yr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ut=Yr();function jn(o){ut=o}const Pt={exec:()=>null};function re(o,e=""){let t=typeof o=="string"?o:o.source;const r={replace:(s,i)=>{let n=typeof i=="string"?i:i.source;return n=n.replace(Se.caret,"$1"),t=t.replace(s,n),r},getRegex:()=>new RegExp(t,e)};return r}const Se={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:o=>new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:o=>new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:o=>new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:o=>new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:o=>new RegExp(`^ {0,${Math.min(3,o-1)}}#`),htmlBeginRegex:o=>new RegExp(`^ {0,${Math.min(3,o-1)}}<(?:[a-z].*>|!--)`,"i")},Ni=/^(?:[ \t]*(?:\n|$))+/,ji=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Gi=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Xt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ui=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Gn=/(?:[*+-]|\d{1,9}[.)])/,Un=re(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Gn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),en=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Vi=/^[^\n]+/,tn=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ki=re(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",tn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Zi=re(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Gn).getRegex(),Ar="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Hi=re("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",rn).replace("tag",Ar).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Vn=re(en).replace("hr",Xt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ar).getRegex(),$i=re(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Vn).getRegex(),nn={blockquote:$i,code:ji,def:Ki,fences:Gi,heading:Ui,hr:Xt,html:Hi,lheading:Un,list:Zi,newline:Ni,paragraph:Vn,table:Pt,text:Vi},bn=re("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Xt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ar).getRegex(),Wi={...nn,table:bn,paragraph:re(en).replace("hr",Xt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",bn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ar).getRegex()},Qi={...nn,html:re(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",rn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:re(en).replace("hr",Xt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Un).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ji=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Xi=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Kn=/^( {2,}|\\)\n(?!\s*$)/,Yi=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Pr=/[\p{P}\p{S}]/u,sn=/[\s\p{P}\p{S}]/u,Zn=/[^\s\p{P}\p{S}]/u,ea=re(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,sn).getRegex(),Hn=/(?!~)[\p{P}\p{S}]/u,ta=/(?!~)[\s\p{P}\p{S}]/u,ra=/(?:[^\s\p{P}\p{S}]|~)/u,na=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,$n=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,sa=re($n,"u").replace(/punct/g,Pr).getRegex(),ia=re($n,"u").replace(/punct/g,Hn).getRegex(),Wn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",aa=re(Wn,"gu").replace(/notPunctSpace/g,Zn).replace(/punctSpace/g,sn).replace(/punct/g,Pr).getRegex(),oa=re(Wn,"gu").replace(/notPunctSpace/g,ra).replace(/punctSpace/g,ta).replace(/punct/g,Hn).getRegex(),la=re("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Zn).replace(/punctSpace/g,sn).replace(/punct/g,Pr).getRegex(),ca=re(/\\(punct)/,"gu").replace(/punct/g,Pr).getRegex(),ua=re(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),da=re(rn).replace("(?:-->|$)","-->").getRegex(),ha=re("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",da).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),rr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,fa=re(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",rr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Qn=re(/^!?\[(label)\]\[(ref)\]/).replace("label",rr).replace("ref",tn).getRegex(),Jn=re(/^!?\[(ref)\](?:\[\])?/).replace("ref",tn).getRegex(),ga=re("reflink|nolink(?!\\()","g").replace("reflink",Qn).replace("nolink",Jn).getRegex(),an={_backpedal:Pt,anyPunctuation:ca,autolink:ua,blockSkip:na,br:Kn,code:Xi,del:Pt,emStrongLDelim:sa,emStrongRDelimAst:aa,emStrongRDelimUnd:la,escape:Ji,link:fa,nolink:Jn,punctuation:ea,reflink:Qn,reflinkSearch:ga,tag:ha,text:Yi,url:Pt},pa={...an,link:re(/^!?\[(label)\]\((.*?)\)/).replace("label",rr).getRegex(),reflink:re(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rr).getRegex()},Nr={...an,emStrongRDelimAst:oa,emStrongLDelim:ia,url:re(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},va={...Nr,br:re(Kn).replace("{2,}","*").getRegex(),text:re(Nr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},er={normal:nn,gfm:Wi,pedantic:Qi},Ct={normal:an,gfm:Nr,breaks:va,pedantic:pa},ma={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kn=o=>ma[o];function Ve(o,e){if(e){if(Se.escapeTest.test(o))return o.replace(Se.escapeReplace,kn)}else if(Se.escapeTestNoEncode.test(o))return o.replace(Se.escapeReplaceNoEncode,kn);return o}function xn(o){try{o=encodeURI(o).replace(Se.percentDecode,"%")}catch{return null}return o}function wn(o,e){var i;const t=o.replace(Se.findPipe,(n,a,d)=>{let c=!1,u=a;for(;--u>=0&&d[u]==="\\";)c=!c;return c?"|":" |"}),r=t.split(Se.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!((i=r.at(-1))!=null&&i.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(Se.slashPipe,"|");return r}function At(o,e,t){const r=o.length;if(r===0)return"";let s=0;for(;s<r&&o.charAt(r-s-1)===e;)s++;return o.slice(0,r-s)}function ba(o,e){if(o.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<o.length;r++)if(o[r]==="\\")r++;else if(o[r]===e[0])t++;else if(o[r]===e[1]&&(t--,t<0))return r;return-1}function yn(o,e,t,r,s){const i=e.href,n=e.title||null,a=o[1].replace(s.other.outputLinkReplace,"$1");if(o[0].charAt(0)!=="!"){r.state.inLink=!0;const d={type:"link",raw:t,href:i,title:n,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,d}return{type:"image",raw:t,href:i,title:n,text:a}}function ka(o,e,t){const r=o.match(t.other.indentCodeCompensation);if(r===null)return e;const s=r[1];return e.split(`
`).map(i=>{const n=i.match(t.other.beginningSpace);if(n===null)return i;const[a]=n;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}class nr{constructor(e){I(this,"options");I(this,"rules");I(this,"lexer");this.options=e||ut}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:At(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=ka(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){const s=At(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:At(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=At(t[0],`
`).split(`
`),s="",i="";const n=[];for(;r.length>0;){let a=!1;const d=[];let c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))d.push(r[c]),a=!0;else if(!a)d.push(r[c]);else break;r=r.slice(c);const u=d.join(`
`),g=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${u}`:u,i=i?`${i}
${g}`:g;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,n,!0),this.lexer.state.top=f,r.length===0)break;const h=n.at(-1);if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){const m=h,x=m.raw+`
`+r.join(`
`),C=this.blockquote(x);n[n.length-1]=C,s=s.substring(0,s.length-m.raw.length)+C.raw,i=i.substring(0,i.length-m.text.length)+C.text;break}else if((h==null?void 0:h.type)==="list"){const m=h,x=m.raw+`
`+r.join(`
`),C=this.list(x);n[n.length-1]=C,s=s.substring(0,s.length-h.raw.length)+C.raw,i=i.substring(0,i.length-m.raw.length)+C.raw,r=x.substring(n.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:n,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const s=r.length>1,i={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const n=this.rules.other.listItemRegex(r);let a=!1;for(;e;){let c=!1,u="",g="";if(!(t=n.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,L=>" ".repeat(3*L.length)),h=e.split(`
`,1)[0],m=!f.trim(),x=0;if(this.options.pedantic?(x=2,g=f.trimStart()):m?x=t[1].length+1:(x=t[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,g=f.slice(x),x+=t[1].length),m&&this.rules.other.blankLine.test(h)&&(u+=h+`
`,e=e.substring(h.length+1),c=!0),!c){const L=this.rules.other.nextBulletRegex(x),D=this.rules.other.hrRegex(x),z=this.rules.other.fencesBeginRegex(x),Q=this.rules.other.headingBeginRegex(x),ze=this.rules.other.htmlBeginRegex(x);for(;e;){const M=e.split(`
`,1)[0];let Z;if(h=M,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),Z=h):Z=h.replace(this.rules.other.tabCharGlobal,"    "),z.test(h)||Q.test(h)||ze.test(h)||L.test(h)||D.test(h))break;if(Z.search(this.rules.other.nonSpaceChar)>=x||!h.trim())g+=`
`+Z.slice(x);else{if(m||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||z.test(f)||Q.test(f)||D.test(f))break;g+=`
`+h}!m&&!h.trim()&&(m=!0),u+=M+`
`,e=e.substring(M.length+1),f=Z.slice(x)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0));let C=null,H;this.options.gfm&&(C=this.rules.other.listIsTask.exec(g),C&&(H=C[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:u,task:!!C,checked:H,loose:!1,text:g,tokens:[]}),i.raw+=u}const d=i.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let c=0;c<i.items.length;c++)if(this.lexer.state.top=!1,i.items[c].tokens=this.lexer.blockTokens(i.items[c].text,[]),!i.loose){const u=i.items[c].tokens.filter(f=>f.type==="space"),g=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));i.loose=g}if(i.loose)for(let c=0;c<i.items.length;c++)i.items[c].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:i}}}table(e){var a;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const r=wn(t[1]),s=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],n={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const d of s)this.rules.other.tableAlignRight.test(d)?n.align.push("right"):this.rules.other.tableAlignCenter.test(d)?n.align.push("center"):this.rules.other.tableAlignLeft.test(d)?n.align.push("left"):n.align.push(null);for(let d=0;d<r.length;d++)n.header.push({text:r[d],tokens:this.lexer.inline(r[d]),header:!0,align:n.align[d]});for(const d of i)n.rows.push(wn(d,n.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:n.align[u]})));return n}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const n=At(r.slice(0,-1),"\\");if((r.length-n.length)%2===0)return}else{const n=ba(t[2],"()");if(n>-1){const d=(t[0].indexOf("!")===0?5:4)+t[1].length+n;t[2]=t[2].substring(0,n),t[0]=t[0].substring(0,d).trim(),t[3]=""}}let s=t[2],i="";if(this.options.pedantic){const n=this.rules.other.pedanticHrefTitle.exec(s);n&&(s=n[1],i=n[3])}else i=t[3]?t[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),yn(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[s.toLowerCase()];if(!i){const n=r[0].charAt(0);return{type:"text",raw:n,text:n}}return yn(r,i,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const n=[...s[0]].length-1;let a,d,c=n,u=0;const g=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(g.lastIndex=0,t=t.slice(-1*e.length+n);(s=g.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(d=[...a].length,s[3]||s[4]){c+=d;continue}else if((s[5]||s[6])&&n%3&&!((n+d)%3)){u+=d;continue}if(c-=d,c>0)continue;d=Math.min(d,d+c+u);const f=[...s[0]][0].length,h=e.slice(0,n+s.index+f+d);if(Math.min(n,d)%2){const x=h.slice(1,-1);return{type:"em",raw:h,text:x,tokens:this.lexer.inlineTokens(x)}}const m=h.slice(2,-2);return{type:"strong",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=t[1],s="mailto:"+r):(r=t[1],s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let s,i;if(t[2]==="@")s=t[0],i="mailto:"+s;else{let n;do n=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(n!==t[0]);s=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}}class Oe{constructor(e){I(this,"tokens");I(this,"options");I(this,"state");I(this,"tokenizer");I(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ut,this.options.tokenizer=this.options.tokenizer||new nr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:Se,block:er.normal,inline:Ct.normal};this.options.pedantic?(t.block=er.pedantic,t.inline=Ct.pedantic):this.options.gfm&&(t.block=er.gfm,this.options.breaks?t.inline=Ct.breaks:t.inline=Ct.gfm),this.tokenizer.rules=t}static get rules(){return{block:er,inline:Ct}}static lex(e,t){return new Oe(t).lex(e)}static lexInline(e,t){return new Oe(t).inlineTokens(e)}lex(e){e=e.replace(Se.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var s,i,n;for(this.options.pedantic&&(e=e.replace(Se.tabCharGlobal,"    ").replace(Se.spaceLine,""));e;){let a;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(c=>(a=c.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const c=t.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let d=e;if((n=this.options.extensions)!=null&&n.startBlock){let c=1/0;const u=e.slice(1);let g;this.options.extensions.startBlock.forEach(f=>{g=f.call({lexer:this},u),typeof g=="number"&&g>=0&&(c=Math.min(c,g))}),c<1/0&&c>=0&&(d=e.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(d))){const c=t.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(a),r=d.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const c=t.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(a);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var a,d,c;let r=e,s=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i=!1,n="";for(;e;){i||(n=""),i=!1;let u;if((d=(a=this.options.extensions)==null?void 0:a.inline)!=null&&d.some(f=>(u=f.call({lexer:this},e,t))?(e=e.substring(u.raw.length),t.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);const f=t.at(-1);u.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):t.push(u);continue}if(u=this.tokenizer.emStrong(e,r,n)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),t.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),t.push(u);continue}let g=e;if((c=this.options.extensions)!=null&&c.startInline){let f=1/0;const h=e.slice(1);let m;this.options.extensions.startInline.forEach(x=>{m=x.call({lexer:this},h),typeof m=="number"&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(g=e.substring(0,f+1))}if(u=this.tokenizer.inlineText(g)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(n=u.raw.slice(-1)),i=!0;const f=t.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):t.push(u);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return t}}class sr{constructor(e){I(this,"options");I(this,"parser");this.options=e||ut}space(e){return""}code({text:e,lang:t,escaped:r}){var n;const s=(n=(t||"").match(Se.notSpaceStart))==null?void 0:n[0],i=e.replace(Se.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Ve(s)+'">'+(r?i:Ve(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:Ve(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,r=e.start;let s="";for(let a=0;a<e.items.length;a++){const d=e.items[a];s+=this.listitem(d)}const i=t?"ol":"ul",n=t&&r!==1?' start="'+r+'"':"";return"<"+i+n+`>
`+s+"</"+i+`>
`}listitem(e){var r;let t="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+Ve(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):t+=s+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);t+=this.tablerow({text:r});let s="";for(let i=0;i<e.rows.length;i++){const n=e.rows[i];r="";for(let a=0;a<n.length;a++)r+=this.tablecell(n[a]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ve(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){const s=this.parser.parseInline(r),i=xn(e);if(i===null)return s;e=i;let n='<a href="'+e+'"';return t&&(n+=' title="'+Ve(t)+'"'),n+=">"+s+"</a>",n}image({href:e,title:t,text:r}){const s=xn(e);if(s===null)return Ve(r);e=s;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${Ve(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ve(e.text)}}class on{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Le{constructor(e){I(this,"options");I(this,"renderer");I(this,"textRenderer");this.options=e||ut,this.options.renderer=this.options.renderer||new sr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new on}static parse(e,t){return new Le(t).parse(e)}static parseInline(e,t){return new Le(t).parseInline(e)}parse(e,t=!0){var s,i;let r="";for(let n=0;n<e.length;n++){const a=e[n];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){const c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){r+=u||"";continue}}const d=a;switch(d.type){case"space":{r+=this.renderer.space(d);continue}case"hr":{r+=this.renderer.hr(d);continue}case"heading":{r+=this.renderer.heading(d);continue}case"code":{r+=this.renderer.code(d);continue}case"table":{r+=this.renderer.table(d);continue}case"blockquote":{r+=this.renderer.blockquote(d);continue}case"list":{r+=this.renderer.list(d);continue}case"html":{r+=this.renderer.html(d);continue}case"paragraph":{r+=this.renderer.paragraph(d);continue}case"text":{let c=d,u=this.renderer.text(c);for(;n+1<e.length&&e[n+1].type==="text";)c=e[++n],u+=`
`+this.renderer.text(c);t?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{const c='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,t=this.renderer){var s,i;let r="";for(let n=0;n<e.length;n++){const a=e[n];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){const c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=c||"";continue}}const d=a;switch(d.type){case"escape":{r+=t.text(d);break}case"html":{r+=t.html(d);break}case"link":{r+=t.link(d);break}case"image":{r+=t.image(d);break}case"strong":{r+=t.strong(d);break}case"em":{r+=t.em(d);break}case"codespan":{r+=t.codespan(d);break}case"br":{r+=t.br(d);break}case"del":{r+=t.del(d);break}case"text":{r+=t.text(d);break}default:{const c='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}}class zt{constructor(e){I(this,"options");I(this,"block");this.options=e||ut}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Oe.lex:Oe.lexInline}provideParser(){return this.block?Le.parse:Le.parseInline}}I(zt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class xa{constructor(...e){I(this,"defaults",Yr());I(this,"options",this.setOptions);I(this,"parse",this.parseMarkdown(!0));I(this,"parseInline",this.parseMarkdown(!1));I(this,"Parser",Le);I(this,"Renderer",sr);I(this,"TextRenderer",on);I(this,"Lexer",Oe);I(this,"Tokenizer",nr);I(this,"Hooks",zt);this.use(...e)}walkTokens(e,t){var s,i;let r=[];for(const n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":{const a=n;for(const d of a.header)r=r.concat(this.walkTokens(d.tokens,t));for(const d of a.rows)for(const c of d)r=r.concat(this.walkTokens(c.tokens,t));break}case"list":{const a=n;r=r.concat(this.walkTokens(a.items,t));break}default:{const a=n;(i=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(d=>{const c=a[d].flat(1/0);r=r.concat(this.walkTokens(c,t))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const n=t.renderers[i.name];n?t.renderers[i.name]=function(...a){let d=i.renderer.apply(this,a);return d===!1&&(d=n.apply(this,a)),d}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const n=t[i.level];n?n.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),s.extensions=t),r.renderer){const i=this.defaults.renderer||new sr(this.defaults);for(const n in r.renderer){if(!(n in i))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const a=n,d=r.renderer[a],c=i[a];i[a]=(...u)=>{let g=d.apply(i,u);return g===!1&&(g=c.apply(i,u)),g||""}}s.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new nr(this.defaults);for(const n in r.tokenizer){if(!(n in i))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const a=n,d=r.tokenizer[a],c=i[a];i[a]=(...u)=>{let g=d.apply(i,u);return g===!1&&(g=c.apply(i,u)),g}}s.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new zt;for(const n in r.hooks){if(!(n in i))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const a=n,d=r.hooks[a],c=i[a];zt.passThroughHooks.has(n)?i[a]=u=>{if(this.defaults.async)return Promise.resolve(d.call(i,u)).then(f=>c.call(i,f));const g=d.call(i,u);return c.call(i,g)}:i[a]=(...u)=>{let g=d.apply(i,u);return g===!1&&(g=c.apply(i,u)),g}}s.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,n=r.walkTokens;s.walkTokens=function(a){let d=[];return d.push(n.call(this,a)),i&&(d=d.concat(i.call(this,a))),d}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Oe.lex(e,t??this.defaults)}parser(e,t){return Le.parse(e,t??this.defaults)}parseMarkdown(e){return(r,s)=>{const i={...s},n={...this.defaults,...i},a=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));n.hooks&&(n.hooks.options=n,n.hooks.block=e);const d=n.hooks?n.hooks.provideLexer():e?Oe.lex:Oe.lexInline,c=n.hooks?n.hooks.provideParser():e?Le.parse:Le.parseInline;if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(r):r).then(u=>d(u,n)).then(u=>n.hooks?n.hooks.processAllTokens(u):u).then(u=>n.walkTokens?Promise.all(this.walkTokens(u,n.walkTokens)).then(()=>u):u).then(u=>c(u,n)).then(u=>n.hooks?n.hooks.postprocess(u):u).catch(a);try{n.hooks&&(r=n.hooks.preprocess(r));let u=d(r,n);n.hooks&&(u=n.hooks.processAllTokens(u)),n.walkTokens&&this.walkTokens(u,n.walkTokens);let g=c(u,n);return n.hooks&&(g=n.hooks.postprocess(g)),g}catch(u){return a(u)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Ve(r.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(r);throw r}}}const ct=new xa;function Y(o,e){return ct.parse(o,e)}Y.options=Y.setOptions=function(o){return ct.setOptions(o),Y.defaults=ct.defaults,jn(Y.defaults),Y};Y.getDefaults=Yr;Y.defaults=ut;Y.use=function(...o){return ct.use(...o),Y.defaults=ct.defaults,jn(Y.defaults),Y};Y.walkTokens=function(o,e){return ct.walkTokens(o,e)};Y.parseInline=ct.parseInline;Y.Parser=Le;Y.parser=Le.parse;Y.Renderer=sr;Y.TextRenderer=on;Y.Lexer=Oe;Y.lexer=Oe.lex;Y.Tokenizer=nr;Y.Hooks=zt;Y.parse=Y;Y.options;Y.setOptions;Y.use;Y.walkTokens;Y.parseInline;Le.parse;Oe.lex;function ln(o,e){ne(e,!0);let t=T(e,"ref",15,null),r=be(e,["$$slots","$$events","$$legacy","ref","class"]);var s=j(),i=q(s),n=O(()=>Ze("relative flex size-10 shrink-0 overflow-hidden rounded-full",e.class));Ee(i,()=>Hs,(a,d)=>{d(a,je({get class(){return l(n)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),p(o,s),se()}function cn(o,e){ne(e,!0);let t=T(e,"ref",15,null),r=be(e,["$$slots","$$events","$$legacy","ref","class"]);var s=j(),i=q(s),n=O(()=>Ze("aspect-square h-full w-full",e.class));Ee(i,()=>Ws,(a,d)=>{d(a,je({get class(){return l(n)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),p(o,s),se()}function un(o,e){ne(e,!0);let t=T(e,"ref",15,null),r=be(e,["$$slots","$$events","$$legacy","ref","class"]);var s=j(),i=q(s),n=O(()=>Ze("bg-muted flex h-full w-full items-center justify-center rounded-full",e.class));Ee(i,()=>Js,(a,d)=>{d(a,je({get class(){return l(n)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),p(o,s),se()}var wa=P("<!> <!>",1),ya=P(`<div class="mb-3 flex"><div class="rounded-lg rounded-bl-none bg-gradient-to-r
        from-slate-200 to-zinc-100 p-4"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><!> <span> </span></div> <div class="text-xs"> </div></div> <div class="mt-2 max-w-md overflow-auto"><h1>Welcome to MastroGPT</h1> <p>Please select the chat you want to use on the side menu.</p></div></div></div>`);function _a(o,e){ne(e,!1);const[t,r]=Cr(),s=()=>St(Qt,"$headerTitle",t);Jt();var i=ya(),n=S(i),a=S(n),d=S(a),c=S(d);ln(c,{children:(m,x)=>{var C=wa(),H=q(C);cn(H,{src:"/img/robot-mini.png",alt:"BOT"});var L=B(H,2);un(L,{children:(D,z)=>{pe();var Q=xe();W(()=>fe(Q,s())),p(D,Q)},$$slots:{default:!0}}),p(m,C)},$$slots:{default:!0}});var u=B(c,2),g=S(u,!0);y(u),y(d);var f=B(d,2),h=S(f,!0);W(()=>fe(h,$r(new Date))),y(f),y(a),pe(2),y(n),y(i),W(()=>fe(g,s())),p(o,i),se(),r()}var Sa=P("<!> <!>",1),Ra=P('<div><div><div class="flex items-center justify-between gap-8 svelte-xqvrew"><div class="flex items-center gap-1 svelte-xqvrew"><!> <span class="svelte-xqvrew"> </span></div> <div class="text-xs svelte-xqvrew"> </div></div> <div class="mt-2 max-w-md overflow-auto whitespace-pre-line svelte-xqvrew"><!></div></div></div>');function _n(o,e){ne(e,!0);var t=Ra(),r=S(t),s=S(r),i=S(s),n=S(i);Ee(n,()=>ln,(h,m)=>{m(h,{children:(x,C)=>{var H=Sa(),L=q(H);Ee(L,()=>cn,(z,Q)=>{Q(z,{get src(){return e.img},get alt(){return e.name}})});var D=B(L,2);Ee(D,()=>un,(z,Q)=>{Q(z,{children:(ze,M)=>{pe();var Z=xe();W(()=>fe(Z,e.name)),p(ze,Z)},$$slots:{default:!0}})}),p(x,H)},$$slots:{default:!0}})});var a=B(n,2),d=S(a,!0);y(a),y(i);var c=B(i,2),u=S(c,!0);W(()=>fe(u,$r(new Date))),y(c),y(s);var g=B(s,2),f=S(g);ws(f,()=>e.html),y(g),y(r),y(t),W(()=>{Br(t,`${`mb-3 flex ${e.side}-msg`??""} svelte-xqvrew`),Br(r,`${`rounded-lg rounded-bl-none p-4 
	${e.side==="left"?"bg-gradient-to-r from-slate-200 to-zinc-100":"bg-gradient-to-r from-blue-300 to-blue-400"}`??""} svelte-xqvrew`),fe(d,e.name)}),p(o,t),se()}var Ta=P("<!> <!>",1),Ca=P(`<div class="w-[250px] rounded-lg rounded-bl-none
        bg-gradient-to-r from-slate-200 to-zinc-100 p-4 svelte-1sq3xr"><div class="flex items-center justify-between svelte-1sq3xr"><div class="flex items-center gap-3 svelte-1sq3xr"><!> <span class="svelte-1sq3xr"> </span></div> <div class="text-xs svelte-1sq3xr"> </div></div> <div class="mt-3 max-w-md overflow-auto px-2 svelte-1sq3xr"><div class="dots mt-2 flex space-x-1 svelte-1sq3xr"><span class="h-2 w-2 rounded-full bg-gray-500 svelte-1sq3xr"></span> <span class="h-2 w-2 rounded-full bg-gray-500 svelte-1sq3xr"></span> <span class="h-2 w-2 rounded-full bg-gray-500 svelte-1sq3xr"></span></div></div></div>`);function Aa(o,e){ne(e,!1);const[t,r]=Cr(),s=()=>St(Qt,"$headerTitle",t);Jt();var i=Ca(),n=S(i),a=S(n),d=S(a);ln(d,{children:(h,m)=>{var x=Ta(),C=q(x);cn(C,{src:"/img/robot-mini.png",alt:"BOT"});var H=B(C,2);un(H,{children:(L,D)=>{pe();var z=xe();W(()=>fe(z,s())),p(L,z)},$$slots:{default:!0}}),p(h,x)},$$slots:{default:!0}});var c=B(d,2),u=S(c,!0);y(c),y(a);var g=B(a,2),f=S(g,!0);W(()=>fe(f,$r(new Date))),y(g),y(n),pe(2),y(i),W(()=>fe(u,s())),p(o,i),se(),r()}function dt(o,e){ne(e,!0);let t=T(e,"ref",15,null),r=be(e,["$$slots","$$events","$$legacy","ref","class"]);var s=j(),i=q(s),n=O(()=>Ze("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class));Ee(i,()=>wi,(a,d)=>{d(a,je({get class(){return l(n)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),p(o,s),se()}var Pa=P("<textarea></textarea>");function Sn(o,e){ne(e,!0);const t=Rs();let r=T(e,"ref",15,null),s=T(e,"value",15),i=T(e,"autoResize",3,!0),n=T(e,"maxHeight",3,"300px"),a=be(e,["$$slots","$$events","$$legacy","ref","value","class","autoResize","maxHeight"]);function d(){if(r()&&i()){r(r().style.height="auto",!0);const f=Math.min(r().scrollHeight,parseInt(n()));r(r().style.height=`${f}px`,!0)}}function c(f){f.key==="Enter"&&(f.shiftKey||(f.preventDefault(),t("enterkey",{value:s()})))}It(()=>{r()&&s()!==void 0&&d()}),Ts(d);var u=Pa();xs(u);let g;qt(u,f=>r(f),()=>r()),W(()=>g=Me(u,g,{class:Ze("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[80px] w-full rounded-md border px-3 py-2 text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none overflow-hidden",e.class),oninput:d,onkeydown:c,style:`max-height: ${n()}`,...a})),ys(u,s),p(o,u),se()}var za=P('<div class="flex size-4 items-center justify-center text-current"><!></div>');function Ia(o,e){ne(e,!0);let t=T(e,"ref",15,null),r=T(e,"checked",15,!1),s=T(e,"indeterminate",15,!1),i=be(e,["$$slots","$$events","$$legacy","ref","checked","indeterminate","class"]);var n=j(),a=q(n),d=O(()=>Ze("border-primary ring-offset-background focus-visible:ring-ring data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground peer box-content size-4 shrink-0 rounded-sm border focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[disabled=true]:cursor-not-allowed data-[disabled=true]:opacity-50",e.class));Ee(a,()=>di,(c,u)=>{u(c,je({get class(){return l(d)}},()=>i,{get ref(){return t()},set ref(f){t(f)},get checked(){return r()},set checked(f){r(f)},get indeterminate(){return s()},set indeterminate(f){s(f)},children:(f,h)=>{let m=()=>h==null?void 0:h().checked,x=()=>h==null?void 0:h().indeterminate;var C=za(),H=S(C);{var L=z=>{Fi(z,{class:"size-3.5"})},D=z=>{var Q=O(()=>Ze("size-3.5",!m()&&"text-transparent"));As(z,{get class(){return l(Q)}})};N(H,z=>{x()?z(L):z(D,!1)})}y(C),p(f,C)},$$slots:{default:!0}}))}),p(o,n),se()}function qa(o,e){ne(e,!0);let t=T(e,"ref",15,null),r=T(e,"value",15,""),s=be(e,["$$slots","$$events","$$legacy","ref","class","value"]);var i=j(),n=q(i),a=O(()=>Ze("grid gap-2",e.class));Ee(n,()=>Ei,(d,c)=>{c(d,je({get class(){return l(a)}},()=>s,{get ref(){return t()},set ref(u){t(u)},get value(){return r()},set value(u){r(u)}}))}),p(o,i),se()}var Ea=P('<div class="flex items-center justify-center"><!></div>');function Da(o,e){ne(e,!0);let t=T(e,"ref",15,null),r=be(e,["$$slots","$$events","$$legacy","ref","class"]);var s=j(),i=q(s),n=O(()=>Ze("border-primary text-primary ring-offset-background focus-visible:ring-ring aspect-square size-4 rounded-full border focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e.class));Ee(i,()=>Oi,(a,d)=>{d(a,je({get class(){return l(n)}},()=>r,{get ref(){return t()},set ref(u){t(u)},children:(u,g)=>{let f=()=>g==null?void 0:g().checked;var h=Ea(),m=S(h);{var x=C=>{Bi(C,{class:"size-2.5 fill-current text-current"})};N(m,C=>{f()&&C(x)})}y(h),p(u,h)},$$slots:{default:!0}}))}),p(o,s),se()}function Oa(o,e,t,r){l(e)&&l(e).files&&(R(t,ae(l(e).files.length)),l(e).files.length>0&&r(l(e).files[0]))}async function La(o,e,t,r,s,i,n){if(l(e)&&l(e).files&&l(e).files.length>0){t();try{const a=Pe(Tr).s3,d=ms(a);if(d==null||d==null){r("Invalid S3 API URL set in environment");return}const c=s()||i().namespace,u=s()?`${s()}-data`:`${i().namespace}-data`,g=i().s3_key,f=new zs({endpoint:a,credentials:{accessKeyId:c,secretAccessKey:g}},u);Array.from(l(e).files).forEach(h=>{const m={id:Bn(),name:h.name,size:h.size,type:h.type,uploadDate:new Date,url:`s3://${u}/${h.name}`};Dn(m)}),await f.uploadAll(l(e).files),n("Files uploaded successfully!")}catch(a){console.error("Upload error:",a),r("Failed to upload files")}}}var Ma=ns('<svg viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M513.28 80.64c-226.56 0-409.6 183.04-409.6 409.6s183.04 409.6 409.6 409.6 409.6-183.04 409.6-409.6-184.32-409.6-409.6-409.6z m0 153.6c47.36 0 92.16 12.8 129.28 35.84L293.12 619.52c-23.04-38.4-35.84-81.92-35.84-129.28 0-140.8 113.92-256 256-256z m0 512c-47.36 0-92.16-12.8-129.28-35.84l350.72-350.72c23.04 38.4 35.84 81.92 35.84 129.28-1.28 142.08-116.48 257.28-257.28 257.28z" fill="#D82621"></path><path d="M513.28 912.64c-232.96 0-422.4-189.44-422.4-422.4s189.44-422.4 422.4-422.4 422.4 189.44 422.4 422.4-189.44 422.4-422.4 422.4z m0-819.2c-218.88 0-396.8 177.92-396.8 396.8s177.92 396.8 396.8 396.8 396.8-177.92 396.8-396.8-177.92-396.8-396.8-396.8z m0 665.6c-47.36 0-94.72-12.8-136.96-37.12-3.84-2.56-5.12-5.12-6.4-8.96 0-3.84 1.28-7.68 3.84-10.24l350.72-350.72c2.56-2.56 6.4-3.84 10.24-3.84 3.84 0 7.68 2.56 8.96 6.4C768 395.52 780.8 442.88 780.8 491.52c1.28 147.2-120.32 267.52-267.52 267.52z m-108.8-51.2c33.28 16.64 71.68 25.6 108.8 25.6 134.4 0 243.2-108.8 243.2-243.2 0-37.12-8.96-75.52-25.6-108.8L404.48 707.84z m-111.36-75.52h-1.28c-3.84 0-7.68-2.56-8.96-6.4-24.32-40.96-37.12-88.32-37.12-136.96 0-148.48 120.32-268.8 268.8-268.8 47.36 0 94.72 12.8 136.96 37.12 3.84 2.56 5.12 5.12 6.4 8.96s-1.28 7.68-3.84 10.24L302.08 628.48c-2.56 2.56-6.4 3.84-8.96 3.84z m220.16-385.28c-134.4 0-243.2 108.8-243.2 243.2 0 37.12 8.96 75.52 25.6 108.8l326.4-326.4c-34.56-16.64-71.68-25.6-108.8-25.6z" fill="#231C1C"></path></g></svg>'),Ba=P('<input type="file" class="hidden" multiple> <div class="flex flex-col space-y-2"><!> <!></div>',1),Fa=P('<p class="text-sm text-muted-foreground"> </p>'),Na=P('<div class="max-w-sm flex flex-col gap-2"><!> <div class="flex gap-2"><input type="file" class="border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full file:text-black rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"> <!></div> <!></div>'),ja=P('<div class="w-12 h-12 bg-red-500 rounded-full flex items-center justify-center"><!></div>'),Ga=P('<div class="w-12 h-12 rounded-full flex items-center justify-center" style="background-color: rgb(30, 164, 206);"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>'),Ua=P('<div class="w-12 h-12 rounded-full flex items-center justify-center" style="background-color: rgb(30, 164, 206);"><!></div>'),Va=P('<div class="flex justify-end"><!></div>'),Ka=P('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"><div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl"><div class="flex items-center justify-between mb-6"><h2 class="text-gray-800 text-xl font-semibold"> </h2> <button class="text-gray-500 hover:text-gray-700 transition-colors"><!></button></div> <div class="flex items-center gap-4 mb-6"><div class="flex-shrink-0"><!></div> <div class="flex-1"><p class="text-gray-600 text-sm leading-relaxed"> </p></div></div> <!></div></div>'),Za=P("<!> <!>",1);function Rn(o,e){ne(e,!0);const[t,r]=Cr(),s=()=>St(On,"$customNamespace",t),i=()=>St(Et,"$user",t);let n=T(e,"label",3,""),a=T(e,"required",3,!1),d=T(e,"forBucket",3,!1),c=T(e,"value",15),u=ce(void 0),g=ce(0),f=ce(!1),h=ce(0),m=ce("Uploading..."),x=ce("Just give us a moment to process your file."),C=ce(!1);function H(){l(u)&&(l(u).value="",R(g,0),c(""))}function L(){R(f,!0),R(h,0),R(m,"Uploading to S3..."),R(x,"Uploading files directly to S3 bucket..."),R(C,!1),ze()}function D(k){R(f,!0),R(h,0),R(m,"Upload Failed"),R(x,ae(k)),R(C,!0)}function z(k){R(m,"Upload Complete"),R(x,ae(k)),R(h,100),R(C,!1),setTimeout(()=>{Q()},2e3)}function Q(){R(f,!1),R(h,0),R(C,!1)}function ze(){if(l(C))return;const k=setInterval(()=>{l(h)<85?(R(h,l(h)+Math.random()*8),l(h)>85&&R(h,85)):clearInterval(k)},200)}function M(k){L(),Z(k).then(V=>{c(V);const ee={id:Bn(),name:k.name,size:k.size,type:k.type,uploadDate:new Date,base64:V};Dn(ee),z(`File "${k.name}" uploaded successfully!`)}).catch(V=>{console.error("Error converting:",V),D("Failed to read file")})}async function Z(k){const V=new FileReader;return new Promise((ee,de)=>{V.onload=()=>{if(typeof V.result=="string"){const he=V.result.split(",")[1];ee(he)}else de(new Error("Failed to convert file to base64"))},V.onerror=()=>{de(new Error("Error reading file"))},V.readAsDataURL(k)})}var De=Za(),Ie=q(De);{var ue=k=>{var V=Ba(),ee=q(V);ee.__change=[La,u,L,D,s,i,z],qt(ee,ie=>R(u,ie),()=>l(u));var de=B(ee,2),he=S(de);Ne(he,{type:"button",class:"w-10 mr-2 border border-blue-400",variant:"outline",onclick:()=>{var ie;return(ie=l(u))==null?void 0:ie.click()},children:(ie,J)=>{Ps(ie,{})},$$slots:{default:!0}});var Be=B(he,2);{var ve=ie=>{Ne(ie,{class:"w-10 mr-2 border border-blue-400 !p-1",variant:"outline",onclick:()=>Mn(Wr,!0),children:(J,$)=>{var te=Ma();p(J,te)},$$slots:{default:!0}})};N(Be,ie=>{e.waitingForStreamToEnd&&ie(ve)})}y(de),p(k,V)},ye=k=>{var V=Na(),ee=S(V);dt(ee,{get for(){return e.name},children:($,te)=>{pe();var ge=xe();W(()=>fe(ge,n())),p($,ge)},$$slots:{default:!0}});var de=B(ee,2),he=S(de);he.__change=[Oa,u,g,M],qt(he,$=>R(u,$),()=>l(u));var Be=B(he,2);{var ve=$=>{Ne($,{type:"button",class:"w-10 border border-blue-400",variant:"outline",onclick:H,children:(te,ge)=>{Mi(te,{})},$$slots:{default:!0}})};N(Be,$=>{c()&&$(ve)})}y(de);var ie=B(de,2);{var J=$=>{var te=Fa(),ge=S(te);y(te),W(()=>fe(ge,`${l(g)??""} file${(l(g)!==1?"s":"")??""} selected`)),p($,te)};N(ie,$=>{l(g)>0&&$(J)})}y(V),W(()=>{vn(he,"id",e.name),vn(he,"name",e.name),he.required=a()}),p(k,V)};N(Ie,k=>{d()?k(ue):k(ye,!1)})}var ke=B(Ie,2);{var oe=k=>{var V=Ka(),ee=S(V),de=S(ee),he=S(de),Be=S(he,!0);y(he);var ve=B(he,2);ve.__click=Q;var ie=S(ve);pn(ie,{size:24}),y(ve),y(de);var J=B(de,2),$=S(J),te=S($);{var ge=_=>{var b=ja(),K=S(b);pn(K,{size:24,class:"text-white"}),y(b),p(_,b)},Re=_=>{var b=j(),K=q(b);{var G=F=>{var le=Ga();p(F,le)},E=F=>{var le=Ua(),Ue=S(le);Is(Ue,{size:24,class:"text-white animate-spin"}),y(le),p(F,le)};N(K,F=>{l(h)>=100?F(G):F(E,!1)},!0)}p(_,b)};N(te,_=>{l(C)?_(ge):_(Re,!1)})}y($);var Ge=B($,2),Fe=S(Ge),He=S(Fe,!0);y(Fe),y(Ge),y(J);var qe=B(J,2);{var w=_=>{var b=Va(),K=S(b);Ne(K,{variant:"outline",onclick:Q,class:"bg-white border-gray-300 text-gray-700 hover:bg-gray-50",children:(G,E)=>{pe();var F=xe("Cancel");p(G,F)},$$slots:{default:!0}}),y(b),p(_,b)};N(qe,_=>{!l(C)&&l(h)<100&&_(w)})}y(ee),y(V),W(()=>{fe(Be,l(m)),fe(He,l(x))}),p(k,V)};N(ke,k=>{l(f)&&k(oe)})}p(o,De),se(),r()}Ln(["change","click"]);function Ha(o,e){(o.key==="Enter"||o.key===" ")&&e()}var $a=P("<!> <!>",1),Wa=P('<div class="flex items-center space-x-2"><!> <!></div>'),Qa=P("<!> <!>",1),Ja=P('<div class="text-red-400"> </div>'),Xa=P('<div class="flex space-x-2"><!> <div class="leading-none"><!></div></div>'),Ya=P("<!> <!>",1),eo=P('<div class="flex flex-col gap-2 mb-4 sm:px-2 lg:px-5"><div class="flex w-full flex-col gap-1.5"><!></div></div>'),to=P('<form class="flex flex-col gap-1.5 p-2 bg-gradient-to-t from-blue-50 to-white w-full py-4"><!> <div class="flex flex-col justify-center"><!> <!></div></form>'),ro=P('<div class="text-red-400"> <!></div>'),no=P('<div class="flex w-full mt-0.5 justify-end"><!></div>'),so=P('<form class="flex flex-col p-2 bg-slate-100 w-full"><div class="flex w-full"><!> <!> <!></div> <!></form>'),io=(o,e)=>{o.target===o.currentTarget&&e()},ao=P('<div class="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-[9999] transition-all duration-300 ease-out" role="button" tabindex="0" aria-label="Close dialog"><div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-4 transform scale-100 transition-all duration-300 ease-out relative border border-gray-100"><button class="absolute top-4 right-4 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors duration-200" aria-label="Close dialog"><svg class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="text-center"><div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-gradient-to-br from-red-100 to-orange-100 mb-6 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-red-50 to-orange-50 animate-pulse"></div> <svg class="h-10 w-10 text-red-500 relative z-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></div> <h3 id="dialog-title" class="text-2xl font-bold text-gray-900 mb-3 tracking-tight">Clear Conversation?</h3> <div class="text-gray-600 mb-8 leading-relaxed space-y-2"><p class="text-base">This will permanently delete all messages in this conversation.</p> <p class="text-sm text-gray-500 font-medium">⚠️ This action cannot be undone</p></div> <div class="flex gap-4 justify-center"><!> <!></div></div></div></div>'),oo=P("<!> <!>",1);function lo(o,e){ne(e,!0);let t=T(e,"value",15),r=T(e,"formInput",15),s=T(e,"base64InputFile",15),i=ce(ae({s3_key:"",namespace:"",isAuthenticated:!1,token:""}));It(()=>Et.subscribe(Z=>R(i,ae(Z))));let n=O(()=>{let M={};return e.formData&&e.formData.map(Z=>{M[Z.name]=(M[Z.name]||0)+1}),M}),a=O(()=>{for(let M in l(n))if(l(n)[M]>1)return!0;return!1});function d(){let M=[];for(let Z in l(n))l(n)[Z]>1&&M.push(Z);return M.join(", ")}let c=ce(null),u=ce(!1);function g(){if(!e.isThinking&&!e.waitingForStreamToEnd&&t()){const M=new Event("submit");e.onSubmit(M,l(c))}}function f(M){e.onSubmit(M,l(c))}function h(M){if(M.shiftKey){e.cleanChat&&(R(u,!1),e.cleanChat());return}R(u,!0)}function m(){e.cleanChat&&e.cleanChat(),R(u,!1)}function x(){R(u,!1)}function C(M){M.key==="Escape"&&l(u)&&x()}var H=oo();tr("keydown",as,C);var L=q(H);{var D=M=>{var Z=to(),De=S(Z);Dt(De,17,()=>e.formData,Ot,(oe,k)=>{var V=eo(),ee=S(V),de=S(ee);{var he=ve=>{var ie=$a(),J=q(ie);dt(J,{get for(){return l(k).name},children:(te,ge)=>{pe();var Re=xe();W(()=>fe(Re,l(k).label)),p(te,Re)},$$slots:{default:!0}});var $=B(J,2);Sn($,{get id(){return l(k).name},get name(){return l(k).name},get required(){return l(k).required},class:"break-words whitespace-pre-wrap",placeholder:"Type your message here.",get value(){return r()[l(k).name]},set value(te){r(r()[l(k).name]=te,!0)},$$events:{enterkey:()=>e.onFormSubmit()}}),p(ve,ie)},Be=ve=>{var ie=j(),J=q(ie);{var $=ge=>{var Re=Qa(),Ge=q(Re);dt(Ge,{get for(){return l(k).name},children:(He,qe)=>{pe();var w=xe();W(()=>fe(w,l(k).label)),p(He,w)},$$slots:{default:!0}});var Fe=B(Ge,2);Ee(Fe,()=>qa,(He,qe)=>{qe(He,{get id(){return l(k).name},class:"flex gap-6",get required(){return l(k).required},get value(){return r()[l(k).name]},set value(w){r(r()[l(k).name]=w,!0)},children:(w,_)=>{var b=j(),K=q(b);Dt(K,17,()=>l(k).options,Ot,(G,E,F)=>{var le=Wa(),Ue=S(le);Ee(Ue,()=>Da,(_e,Ce)=>{Ce(_e,{get value(){return l(E)},id:`option-${F??""}`})});var Te=B(Ue,2);dt(Te,{for:`option-${F??""}`,children:(_e,Ce)=>{pe();var Qe=xe();W(()=>fe(Qe,l(E))),p(_e,Qe)},$$slots:{default:!0}}),y(le),p(G,le)}),p(w,b)},$$slots:{default:!0}})}),p(ge,Re)},te=ge=>{var Re=j(),Ge=q(Re);{var Fe=qe=>{var w=Ja(),_=S(w);y(w),W(()=>fe(_,`-- No options provided for radio group ${l(k).name??""} --`)),p(qe,w)},He=qe=>{var w=j(),_=q(w);{var b=G=>{var E=Xa(),F=S(E);Ia(F,{get id(){return l(k).name},get required(){return l(k).required},onCheckedChange:Te=>r(r()[l(k).name]=Te.toString(),!0)});var le=B(F,2),Ue=S(le);dt(Ue,{get for(){return l(k).name},class:"text-sm font-medium ",children:(Te,_e)=>{pe();var Ce=xe();W(()=>fe(Ce,l(k).label)),p(Te,Ce)},$$slots:{default:!0}}),y(le),y(E),p(G,E)},K=G=>{var E=j(),F=q(E);{var le=Te=>{Rn(Te,{get name(){return l(k).name},get label(){return l(k).label},get required(){return l(k).required},get waitingForStreamToEnd(){return e.waitingForStreamToEnd},get value(){return r()[l(k).name]},set value(_e){r(r()[l(k).name]=_e,!0)}})},Ue=Te=>{var _e=Ya(),Ce=q(_e);dt(Ce,{get for(){return l(k).name},children:(tt,me)=>{pe();var Yt=xe();W(()=>fe(Yt,l(k).label)),p(tt,Yt)},$$slots:{default:!0}});var Qe=B(Ce,2);_s(Qe,{get type(){return l(k).type},get id(){return l(k).name},get name(){return l(k).name},get required(){return l(k).required},autocomplete:"off",get value(){return r()[l(k).name]},set value(tt){r(r()[l(k).name]=tt,!0)}}),p(Te,_e)};N(F,Te=>{l(k).type==="file"?Te(le):Te(Ue,!1)},!0)}p(G,E)};N(_,G=>{l(k).type==="checkbox"?G(b):G(K,!1)},!0)}p(qe,w)};N(Ge,qe=>{l(k).type==="radio"&&!l(k).options?qe(Fe):qe(He,!1)},!0)}p(ge,Re)};N(J,ge=>{l(k).type==="radio"&&l(k).options?ge($):ge(te,!1)},!0)}p(ve,ie)};N(de,ve=>{l(k).type==="textarea"?ve(he):ve(Be,!1)})}y(ee),y(V),p(oe,V)});var Ie=B(De,2),ue=S(Ie);Ne(ue,{type:"submit",size:"lg",variant:"default",class:"bg-sidebar",get disabled(){return e.isThinking},children:(oe,k)=>{pe();var V=xe("Send");p(oe,V)},$$slots:{default:!0}});var ye=B(ue,2);{var ke=oe=>{Ne(oe,{type:"button",size:"sm",variant:"outline",onclick:h,get disabled(){return e.isThinking},class:"text-gray-700 mt-0.5 px-2 py-1 text-xs w-fit self-center",children:(k,V)=>{pe();var ee=xe("🧹 Clean");p(k,ee)},$$slots:{default:!0}})};N(ye,oe=>{e.cleanChat&&oe(ke)})}y(Ie),y(Z),tr("submit",Z,oe=>{var k;oe.preventDefault(),e.onFormSubmit(),(k=l(c))==null||k.focus()}),p(M,Z)},z=M=>{var Z=j(),De=q(Z);{var Ie=ye=>{var ke=ro(),oe=S(ke);W(()=>fe(oe,`-- Form entries names must be unique: ${d()??""} -- `));var k=B(oe);Ne(k,{type:"button",size:"sm",variant:"link",onclick:()=>location.reload(),children:(V,ee)=>{pe();var de=xe("Refresh Page");p(V,de)},$$slots:{default:!0}}),y(ke),p(ye,ke)},ue=ye=>{var ke=so(),oe=S(ke),k=S(oe);{var V=J=>{Rn(J,{name:"file-button",forBucket:!0,get waitingForStreamToEnd(){return e.waitingForStreamToEnd},get value(){return s()},set value($){s($)}})};N(k,J=>{l(i)&&l(i).s3_key&&J(V)})}var ee=B(k,2);{var de=J=>{var $=O(()=>e.isThinking||e.waitingForStreamToEnd);Sn(J,{id:"chat-input",autofocus:!0,class:"grow bg-white border border-blue-200 max-h-[150px] resize-none overflow-y-auto",placeholder:"Enter your message...",get disabled(){return l($)},get ref(){return l(c)},set ref(te){R(c,ae(te))},get value(){return t()},set value(te){t(te)},$$events:{enterkey:g}})};N(ee,J=>{J(de)})}var he=B(ee,2),Be=O(()=>!t()||e.isThinking||e.waitingForStreamToEnd);Ne(he,{type:"button",onclick:f,variant:"default",class:"bg-sidebar ml-2",get disabled(){return l(Be)},children:(J,$)=>{pe();var te=xe("Send");p(J,te)},$$slots:{default:!0}}),y(oe);var ve=B(oe,2);{var ie=J=>{var $=no(),te=S($),ge=O(()=>e.isThinking||e.waitingForStreamToEnd);Ne(te,{type:"button",size:"sm",variant:"ghost",class:"bg-red-400 px-3.5 py-1 text-s -mt-9",onclick:h,get disabled(){return l(ge)},children:(Re,Ge)=>{pe();var Fe=xe("Clean");p(Re,Fe)},$$slots:{default:!0}}),y($),p(J,$)};N(ve,J=>{e.cleanChat&&J(ie)})}y(ke),tr("submit",ke,J=>e.onSubmit(J,l(c))),p(ye,ke)};N(De,ye=>{e.formData&&l(a)?ye(Ie):ye(ue,!1)},!0)}p(M,Z)};N(L,M=>{e.formData&&!l(a)?M(D):M(z,!1)})}var Q=B(L,2);{var ze=M=>{var Z=ao();Z.__click=[io,x],Z.__keydown=[Ha,x];var De=S(Z),Ie=S(De);Ie.__click=x;var ue=B(Ie,2),ye=B(S(ue),6),ke=S(ye);Ne(ke,{type:"button",variant:"outline",class:"px-8 py-3 text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium rounded-xl",onclick:x,children:(k,V)=>{pe();var ee=xe("Keep Messages");p(k,ee)},$$slots:{default:!0}});var oe=B(ke,2);Ne(oe,{type:"button",class:"px-8 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white transition-all duration-200 font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105",onclick:m,children:(k,V)=>{pe();var ee=xe("Yes, Clear All");p(k,ee)},$$slots:{default:!0}}),y(ye),y(ue),y(De),y(Z),p(M,Z)};N(Q,M=>{l(u)&&M(ze)})}p(o,H),se()}Ln(["click","keydown"]);class co{constructor(e,t,r,s){I(this,"name");I(this,"img");I(this,"side");I(this,"text");this.name=e,this.img=t,this.side=r,this.text=s}}const dn=Qr({}),hn=Qr({}),Xn=Qr({});function Yn(o){let e=Pe(dn),t=Pe(hn);return[e[o]||[],t[o]||!1]}function es(o){return Pe(Xn)[o]||""}function jr(o,e){Xn.update(t=>(t[o]=e,t))}function Tn(o,e,t){return dn.update(r=>(r[o]=[...r[o]||[],e],r)),hn.update(r=>(r[o]=t,r)),Yn(o)[0]}function uo(o){dn.update(e=>(delete e[o],e)),hn.update(e=>(delete e[o],e))}class ho{constructor(e,t){I(this,"url");I(this,"actionUrl");I(this,"namespace");I(this,"currentChat");I(this,"rawText");this.url=Pe(Tr).streamer,this.currentChat=t,this.actionUrl=e,this.namespace=Pe(Et).namespace,this.rawText=""}async invoke(e,t){var d;if(!this.actionUrl)return{answer:"Please select the application you want to use from the side menu.",streamMode:!1};let r=this.url+"/web/"+this.namespace+"/"+this.actionUrl,s={};e!=null&&(s={input:e.input}),s.token=(d=Pe(Et))==null?void 0:d.token,s.state=es(this.currentChat),s.title=Pe(Qt);let i=JSON.stringify(s);const n=new AbortController,a=n.signal;try{const c=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:i,signal:a});if(c.status==404)throw new Error(`Action ${this.actionUrl} not found!`);if(c.status!=200)throw new Error(`Error ${c.status} interacting with ${this.url}`);if(!c.body)throw new Error("ReadableStream not supported in this environment.");const u=c.body.getReader();for(;;){const{done:g,value:f}=await u.read();if(Pe(Wr)){n.abort();break}if(g)break;t(f)}return{ok:!0}}catch(c){return console.error("Error posting data:",c),{error:`${c}`}}}}class fo{constructor(e,t){I(this,"url");I(this,"currentChat");this.url=Pe(Tr).host+"/api/my/"+e,this.currentChat=t}async invoke(e){var s;if(!this.url)return{answer:"Please select the application you want to use from the side menu.",streamMode:!1};let t={};e!=null&&(t={input:e.input}),t.token=(s=Pe(Et))==null?void 0:s.token,t.state=es(this.currentChat),t.title=Pe(Qt);let r=JSON.stringify(t);try{const i=await fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:r});if(i.status==404)throw new Error("Action not found!");if(i.status!=200)throw new Error(`${i.statusText} (${i.status})`);const n=await i.json();console.log(n),jr(this.currentChat,n.state||""),console.log(this);let a=n.output,d=n.streaming||!1;return delete n.output,delete n.streaming,delete n.state,{answer:a,data:n,streamMode:d}}catch(i){return console.log("Error posting data:",i),{error:`${i}`}}}}var go=P('<span class="ml-2">✓</span>'),po=P('<button type="button"> <!></button>'),vo=P('<div class="flex flex-wrap gap-2"></div>');function Cn(o,e){ne(e,!1);let t=T(e,"options",24,()=>[]),r=T(e,"selectedOption",8,null),s=T(e,"onSelect",8);function i(a){r()===null&&s()(a)}Jt();var n=vo();Dt(n,5,t,Ot,(a,d)=>{var c=po(),u=S(c),g=B(u);{var f=h=>{var m=go();p(h,m)};N(g,h=>{r()===l(d)&&h(f)})}y(c),W(()=>{Br(c,`px-4 py-2 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-blue-300 ${(r()===l(d)?"bg-green-500 text-white":r()===null?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed")??""}`),c.disabled=r()!==null&&r()!==l(d),fe(u,`${l(d)??""} `)}),tr("click",c,()=>i(l(d))),p(a,c)}),y(n),p(o,n),se()}var mo=P('<div class="ml-14 mt-2 mb-4"><!></div>'),bo=P("<!> <!>",1),ko=P('<div class="ml-14 mt-2 mb-4"><!></div>'),xo=P("<!> <!>",1),wo=P("<!> <!>",1),yo=P('<div class="flex w-full h-12 justify-center items-center"><div class="inline-flex items-center gap-1 h-full"><span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.2s]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.4s]"></span></div></div>'),_o=P('<section class="flex size-full flex-col rounded-xl shadow-lg"><div id="chat-area" class="grow whitespace-pre-line break-words scroll-smooth bg-[#fafafa] p-4 overflow-y-auto"><!></div> <!> <!></section>');function Vo(o,e){ne(e,!0);const[t,r]=Cr(),s=()=>St(Qt,"$headerTitle",t),i=()=>St(On,"$customNamespace",t);let n=ce(!1),a=ce(ae([])),d=ce(""),c=ce(ae({})),u=ce(null),g=ce(""),f=ce(!1),h,m,x,C=ce(void 0),H=ce(!1),L=ce(!1);class D extends co{constructor(b,K,G,E,F=[]){super(b,K,G,E);I(this,"options",[]);I(this,"selectedOption",null);this.options=F}selectOption(b){}}function z(){R(u,null),R(c,ae({}))}function Q(w,_){try{const b=JSON.parse(w||"{}");if(b!=null&&b.options&&Array.isArray(b.options))return b.options}catch{}if(_!=null&&_.output&&typeof _.output=="string")try{const b=JSON.parse(_.output);if(b!=null&&b.options&&Array.isArray(b.options))return b.options}catch{}return[]}function ze(){e.currentChat&&!l(L)&&(uo(e.currentChat),jr(e.currentChat,""),R(a,ae([])),R(d,""),z(),R(L,!1),R(C,void 0),R(H,!0),x&&x.invoke(null).then(k).finally(()=>{R(H,!1)}))}function M(){h&&setTimeout(()=>{h.scroll({top:h.scrollHeight,behavior:"smooth"})},100)}It(()=>{if(console.log("currentChat",e.currentChat),e.currentChat){let[w,_]=e.currentChat.split(":");z(),R(f,!0),m=new ho(_,e.currentChat),x=new fo(_,e.currentChat);let[b,K]=Yn(e.currentChat);R(a,ae(b)),R(n,ae(K)),b.length==0&&(R(H,!0),x.invoke(null).then(k)),R(H,!1)}});const Z="/img/robot-mini.png",De="/img/human-mini.png";async function Ie(w,_,b,K,G=[]){let E="Didn't get a response from the server...";K&&(E=await Y.parse(K)),E.endsWith(`
`)&&(E=E.slice(0,-1));const F=new D(w,_,b,E,G);return R(a,ae(Tn(e.currentChat,F,l(n)))),M(),F}async function ue(w,_=[]){return await Ie(s(),Z,"left",w,_)}function ye(){const w=new D(s(),Z,"left","");let _=l(a).push(w);return M(),_-1}async function ke(w){await Ie(i(),De,"right",w)}function oe(w,_){l(L)||!w||(R(d,ae(w)),ee(new Event("submit"),null))}async function k(w){if("error"in w){await ue(w.error),R(L,!1);return}const{answer:_,data:b,streamMode:K}=w;R(L,!1),console.log("Response from backend:",{answer:_,data:b}),b&&b.form&&(R(u,ae(b.form)),l(u).forEach(F=>{l(c)[F.name]=""}),setTimeout(()=>M(),200));const G=Q(_,b);let E=_;if(_)try{const F=JSON.parse(_);F.options&&Array.isArray(F.options)&&(E="")}catch{E=_}if(!E&&(b!=null&&b.output)&&typeof b.output=="string")try{const F=JSON.parse(b.output);F.options&&Array.isArray(F.options)?E="":E=b.output}catch{E=b.output}E&&E.trim()&&await ue(E),G.length>0?E&&E.trim()?await ue("",G):await ue("Please select an option:",G):!(E!=null&&E.trim())&&(!b||!b.form)&&await ue("Didn't get a response from the server... :("),J(b),R(n,ae(K))}async function V(w){if("ok"in w)return;if(w=w,"error"in w){l(a).pop(),await ue(w.error),R(L,!1);return}const{answer:_,data:b,streamMode:K}=w;R(L,!1),console.log("Streaming response from backend:",{answer:_,data:b}),b&&b.form&&(R(u,ae(b.form)),l(u).forEach(F=>{l(c)[F.name]=""}),setTimeout(()=>M(),200));let G=_;if(!G&&(b!=null&&b.output)&&typeof b.output=="string")try{JSON.parse(b.output).options||(G=b.output)}catch{G=b.output}const E=Q(_,b);G&&await ue(G),E.length>0?G?await ue("",E):await ue("Please select an option:",E):!G&&(!b||!b.form)&&await ue("Didn't get a response from the server... :("),J(b),R(n,ae(K))}async function ee(w,_){if(w.preventDefault(),!l(f)){await ue("Please select a chat from the side menu.");return}if(z(),!l(d)){R(d,"");return}let b={input:l(d)};await ke(l(d)),R(d,"");let K=w instanceof PointerEvent&&w.shiftKey;await ie(b,K),_==null||_.focus()}const de=()=>{let w={};for(let _ in l(c))w[_]=l(c)[_];return{input:{form:w}}};async function he(){if(l(L))return;let w=de();z(),await ie(w),setTimeout(()=>M(),300)}const Be=new TextDecoder("utf-8");function ve(w){l(C)===void 0&&(console.error("stream msg idx undefined while processing chunk"),R(C,ae(ye()))),R(L,!1);const _=Be.decode(w,{stream:!0});console.log(_);try{bs(_).forEach(async K=>{if(K.state&&jr(e.currentChat,K.state),!!K.output){m.rawText+=K.output;try{const G=JSON.parse(K.output);if(G!=null&&G.options&&Array.isArray(G.options)){l(a)[l(C)].options=G.options;return}}catch{l(a)[l(C)].text=await Y.parse(m.rawText)}}}),R(a,ae([...l(a)])),M()}catch(b){Ss.error(b),console.error(b)}}async function ie(w,_=!1){if(R(L,!0),l(n)&&!_){Mn(Wr,!1),R(C,ae(ye())),m.rawText="";const K=await m.invoke(w,ve);await V(K),Tn(e.currentChat,l(a)[l(C)],l(n)),R(C,void 0);return}const b=await x.invoke(w);await k(b)}async function J(w){let _;if(Object.keys(w).length!==0&&!(Object.keys(w).length===1&&"form"in w)){try{_=await(await fetch(Pe(Tr).host+"/api/my/mastrogpt/display",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).text()}catch(b){console.error(b),_="<h1>Error!</h1><p>Check logs for details.</p>"}if(_){const b=Pe(mn);mn.set(!0),b||await new Promise(K=>setTimeout(K,500)),e.sendDisplayData(_)}}}It(()=>{h&&(l(a).length>0||l(u)||l(L))&&M()});var $=_o(),te=S($),ge=S(te);{var Re=w=>{_a(w,{})},Ge=w=>{var _=wo(),b=q(_);ps(b,()=>l(a),E=>{var F=j(),le=q(F);{var Ue=_e=>{var Ce=j(),Qe=q(Ce);Dt(Qe,17,()=>l(a).slice(0,l(a).length-1),Ot,(tt,me,Yt)=>{var Rt=bo(),Tt=q(Rt);_n(Tt,{get side(){return l(me).side},get img(){return l(me).img},get name(){return l(me).name},get html(){return l(me).text}});var zr=B(Tt,2);{var Ir=rt=>{var nt=mo(),qr=S(nt);Cn(qr,{get options(){return l(me).options},get selectedOption(){return l(me).selectedOption},onSelect:Er=>oe(Er)}),y(nt),p(rt,nt)};N(zr,rt=>{l(me)instanceof D&&l(me).options.length>0&&rt(Ir)})}p(tt,Rt)}),p(_e,Ce)},Te=_e=>{var Ce=j(),Qe=q(Ce);Dt(Qe,17,()=>l(a),Ot,(tt,me,Yt)=>{var Rt=xo(),Tt=q(Rt);_n(Tt,{get side(){return l(me).side},get img(){return l(me).img},get name(){return l(me).name},get html(){return l(me).text}});var zr=B(Tt,2);{var Ir=rt=>{var nt=ko(),qr=S(nt);Cn(qr,{get options(){return l(me).options},get selectedOption(){return l(me).selectedOption},onSelect:Er=>oe(Er)}),y(nt),p(rt,nt)};N(zr,rt=>{l(me)instanceof D&&l(me).options.length>0&&rt(Ir)})}p(tt,Rt)}),p(_e,Ce)};N(le,_e=>{l(n)&&l(L)?_e(Ue):_e(Te,!1)})}p(E,F)});var K=B(b,2);{var G=E=>{Aa(E,{})};N(K,E=>{l(L)&&E(G)})}p(w,_)};N(ge,w=>{l(f)?w(Ge,!1):w(Re)})}y(te),qt(te,w=>h=w,()=>h);var Fe=B(te,2);Li(Fe,{class:"bg-slate-200"});var He=B(Fe,2);{var qe=w=>{var _=j(),b=q(_);{var K=E=>{var F=yo();p(E,F)},G=E=>{var F=O(()=>l(n)&&l(C)!==void 0);lo(E,{get formData(){return l(u)},onSubmit:ee,onFormSubmit:he,get isThinking(){return l(L)},get waitingForStreamToEnd(){return l(F)},cleanChat:ze,get value(){return l(d)},set value(le){R(d,ae(le))},get formInput(){return l(c)},set formInput(le){R(c,ae(le))},get base64InputFile(){return l(g)},set base64InputFile(le){R(g,ae(le))}})};N(b,E=>{l(H)?E(K):E(G,!1)})}p(w,_)};N(He,w=>{l(f)&&w(qe)})}y($),p(o,$),se(),r()}var So=P('<section class="size-full overflow-auto p-0 m-0"><iframe class="w-full h-screen border-1 border-solid border-red-500" title="display" id="display" src="/display"></iframe></section>');function Ko(o,e){T(e,"displayResponse",15)(n=>{var a,d;return(d=(a=l(r))==null?void 0:a.contentWindow)==null?void 0:d.postMessage(n)});let r=ce(void 0);var s=So(),i=S(s);qt(i,n=>R(r,n),()=>l(r)),y(s),p(o,s)}export{Vo as C,Ko as D};
